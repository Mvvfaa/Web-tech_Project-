<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>All Candle Categories</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'brand-cream': '#f7f5f3',
            'brand-light': '#fefcfa',
            'brand-brown': '#8b7355',
            'brand-sage': '#6b8e5a',
            'brand-sage-dark': '#5a7a4a',
            'brand-pink': '#d4a5a5',
            'brand-peach': '#f4a5a5',
            'brand-gray': '#2c2c2c',
            'brand-light-gray': '#5a5a5a',
            'brand-section': '#f2f0ed'
          },
          fontFamily: {
            'serif': ['Georgia', 'serif']
          }
        }
      }
    }
  </script>

  <style>
    .scrolling-text {
      display: inline-block;
      padding-left: 100%;
      animation: scroll-text 20s linear infinite;
    }
    @keyframes scroll-text {
      0% { transform: translateX(0%); }
      100% { transform: translateX(-100%); }
    }

    .group:hover ul,
    .group:focus-within ul {
      opacity: 1 !important;
      pointer-events: auto !important;
    }
  </style>
</head>

  <script>window.API_BASE = 'http://localhost:3000/api';</script>
  <script src="assets/data/products-api.js"></script>

<body class="font-serif leading-relaxed text-brand-gray bg-brand-cream">

  <!-- top delivery bar -->
  <div class="bg-brand-peach text-white overflow-hidden whitespace-nowrap py-2 text-sm font-medium">
    <p class="px-4">‚óè Product Delivery in 8-10 Working Days</p>
  </div>

  <!-- Header (same style as cart.html) -->
  <header class="bg-brand-light shadow-lg sticky top-0 z-50">
    <nav class="max-w-7xl mx-auto px-4 md:px-6 py-4 flex justify-between items-center">
      <a href="index.html" class="flex items-center space-x-2 md:space-x-3">
        <img src="images/logo.jpg" alt="The Candle Co Logo" class="w-8 h-8 md:w-10 md:h-10 rounded-full object-cover">
        <span class="hidden sm:inline-block text-lg md:text-3xl font-bold text-brand-brown">The Candle Co</span>
      </a>
      <div class="flex items-center space-x-4">
        <a href="cart.html" class="text-sm text-brand-sage hover:text-brand-brown">Cart</a>
        <a href="login.html" class="text-sm text-brand-sage hover:text-brand-brown">Profile</a>
      </div>
    </nav>
  </header>

  <main class="max-w-6xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-3 gap-8">
    <!-- Left: Cart Summary (wide column) -->
    <section class="lg:col-span-2 bg-white rounded-2xl shadow-lg p-6">
      <div class="flex items-center justify-between mb-4">
        <h1 class="text-2xl font-bold text-brand-brown">Checkout</h1>
        <a href="cart.html" class="px-4 py-2 border border-brand-gray rounded-full text-sm hover:bg-brand-section">Back to Cart</a>
      </div>

      <h2 class="font-semibold mb-3">Your cart</h2>
      <div id="cartItems" class="space-y-4 mb-6"></div>

      <div class="flex justify-end items-center space-x-6 mt-4">
        <div class="text-right">
          <div class="text-sm">Subtotal</div>
          <div id="subtotalDisplay" class="text-xl font-bold text-brand-brown">PKR 0</div>
        </div>
      </div>
    </section>

    <!-- Right: Shipping & Payment Form -->
    <aside class="bg-white rounded-2xl shadow-lg p-6">
      <form id="checkoutForm" class="space-y-4">
        <h2 class="font-semibold mb-2">Shipping & contact</h2>

        <div class="grid grid-cols-1 gap-3">
          <input id="cust-name" required placeholder="Full name" class="p-2 border rounded" />
          <input id="cust-email" type="email" required placeholder="Email" class="p-2 border rounded" />
          <input id="cust-phone" required placeholder="Phone" class="p-2 border rounded" />
          <input id="addr-street" required placeholder="Street address" class="p-2 border rounded" />
          <input id="addr-city" required placeholder="City" class="p-2 border rounded" />
          <input id="addr-postal" required placeholder="Postal code" class="p-2 border rounded" />
          <input id="addr-country" placeholder="Country (default Pakistan)" class="p-2 border rounded" />
        </div>

        <div>
          <h3 class="font-semibold mb-2">Payment method</h3>
          <label class="block mb-2">
            <input type="radio" name="paymentMethod" value="Cash on Delivery" checked /> Cash on Delivery
          </label>
          <label class="block mb-2">
            <input type="radio" name="paymentMethod" value="Credit Card" /> Credit Card
          </label>
          <label class="block">
            <input type="radio" name="paymentMethod" value="Bank Transfer" /> Bank Transfer
          </label>
        </div>

        <div>
          <label class="block mb-1">Notes (optional)</label>
          <textarea id="notes" rows="3" class="w-full p-2 border rounded"></textarea>
        </div>

        <div class="flex items-center justify-between mt-4">
          <div>
            <div class="text-sm text-gray-600">Shipping cost</div>
            <div id="shippingCostDisplay" class="font-bold">PKR 250</div>
          </div>

          <div class="text-right">
            <div class="text-sm">Total</div>
            <div id="totalDisplay" class="text-2xl font-bold text-brand-brown">PKR 0</div>
          </div>
        </div>

        <div class="flex gap-3">
          <a href="cart.html" class="flex-1 px-4 py-3 border border-brand-gray rounded-full text-center hover:bg-brand-section">Go to Cart</a>
          <button id="placeOrderBtn" type="submit" class="flex-1 px-4 py-3 bg-brand-sage text-white rounded-full font-bold">Place Order</button>
        </div>
      </form>
    </aside>
  </main>

  <!-- Footer (same look as cart.html) -->
  <footer>
    <div class="bg-brand-gray text-white py-10 shadow-lg">
      <div class="container mx-auto text-center">
        <h2 class="text-4xl font-bold mb-6 text-brand-brown">Get in Touch</h2>
        <p class="mb-2">üìû +92 308 4449344</p>
        <p class="mb-4">üìç Sector C, Askari 11, Lahore, Pakistan</p>
        <a href="https://www.instagram.com/thecandleco.pk_/" target="_blank" class="inline-block mt-2">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-8 h-8 hover:text-pink-400 transition duration-300">
            <path d="M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2Zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20"/>
          </svg>
        </a>
      </div>
    </div>
    <div class="bg-brand-brown text-white py-6">
      <div class="container mx-auto flex items-center justify-center">
        <p class="text-sm">&copy; 2025 CandleCo. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    // Keep total display updated (checkout.js also computes but we update UI here for immediate UX)
    function updateTotalsUI() {
      const subtotalEl = document.getElementById('subtotalDisplay');
      const totalEl = document.getElementById('totalDisplay');
      const shippingEl = document.getElementById('shippingCostDisplay');
      const subtotalText = subtotalEl ? subtotalEl.textContent : 'PKR 0';
      const subtotalValue = Number((subtotalText || 'PKR 0').toString().replace(/[^\d]/g, '')) || 0;
      const shipping = 250;
      const total = subtotalValue + shipping;
      if (shippingEl) shippingEl.textContent = 'PKR ' + shipping.toLocaleString();
      if (totalEl) totalEl.textContent = 'PKR ' + total.toLocaleString();
    }

    // attempt to update totals periodically in case checkout.js sets subtotal later
    setInterval(updateTotalsUI, 300);
  </script>

  <script src="assets/data/js/checkout.js"></script>
  <script src="assets/details-image.js"></script>
</body>
</html>